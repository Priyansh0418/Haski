# ğŸ“ App Shell Architecture Diagrams

## Component Hierarchy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   main.tsx                       â”‚
â”‚           StrictMode â†’ BrowserRouter             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    App.tsx                       â”‚
â”‚              AuthProvider (Context)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Routes                          â”‚
â”‚         React Router Route definitions           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                        â”‚
       â”‚                        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Public     â”‚      â”‚   AppShell (Layout)   â”‚
â”‚  Routes     â”‚      â”‚                       â”‚
â”‚  (Home,     â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  Login,     â”‚      â”‚  â”‚ Navbar (Sticky) â”‚  â”‚
â”‚  Signup)    â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚                       â”‚
                     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                     â”‚  â”‚    Outlet       â”‚  â”‚
                     â”‚  â”‚  (Page Content) â”‚  â”‚
                     â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
                     â”‚  â”‚ Protected       â”‚  â”‚
                     â”‚  â”‚ Routes:         â”‚  â”‚
                     â”‚  â”‚ â€¢ Dashboard     â”‚  â”‚
                     â”‚  â”‚ â€¢ Analyze       â”‚  â”‚
                     â”‚  â”‚ â€¢ Capture       â”‚  â”‚
                     â”‚  â”‚ â€¢ etc.          â”‚  â”‚
                     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                     â”‚                       â”‚
                     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                     â”‚  â”‚ ToastContainer  â”‚  â”‚
                     â”‚  â”‚ (Fixed Bottom)  â”‚  â”‚
                     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Route Flow Diagram

```
User Visits App
      â”‚
      â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Route Matched?  â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
        â”‚        â”‚
    No  â”‚        â”‚ Yes
        â”‚        â”‚
        â–¼        â–¼
    Error    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    404      â”‚ Public Route?   â”‚
             â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
                  â”‚        â”‚
              No  â”‚        â”‚ Yes
                  â”‚        â”‚
                  â–¼        â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ Protected    â”‚ â”‚ Public Page  â”‚
          â”‚ Route?       â”‚ â”‚ Shown âœ“      â”‚
          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚    â”‚
           No  â”‚    â”‚ Yes
               â”‚    â”‚
               â–¼    â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ ProtectedRoute   â”‚
            â”‚ checks auth      â”‚
            â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
                 â”‚         â”‚
             No  â”‚         â”‚ Yes
                 â”‚         â”‚
                 â–¼         â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Redirect to  â”‚ â”‚ Protected    â”‚
        â”‚ /login â—€â”€â”€â”€  â”‚ â”‚ Page Shown âœ“ â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Layout Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                      â”‚
â”‚      Navbar (max-w-7xl)              â”‚  â—€â”€ Sticky (top: 0, z-50)
â”‚  [Logo]  [Links]  [Avatar/Login]    â”‚
â”‚                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      â”‚
â”‚                                      â”‚
â”‚      Main Content (max-w-7xl)        â”‚  â—€â”€ Flex-1 (fills space)
â”‚                                      â”‚
â”‚    [Page-Specific Content]           â”‚
â”‚                                      â”‚
â”‚                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      â”‚
â”‚  Toast Container (Fixed)             â”‚  â—€â”€ Bottom-right, z-50
â”‚  [Notification bubbles]              â”‚
â”‚                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow: Authentication

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ App Opens    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ App.tsx checks:              â”‚
â”‚ 1. AuthContext              â”‚
â”‚ 2. localStorage['authToken']â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
    â”Œâ”€â”€â”´â”€â”€â”
    â”‚ Yes â”‚  No
    â”‚     â”‚
    â–¼     â–¼
 Set   Initialize
Logged  Not Logged
In Flag In Flag
    â”‚     â”‚
    â”‚     â”‚
    â–¼     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User tries to     â”‚
â”‚ access route      â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
     â”‚          â”‚
   Public   Protected
     â”‚          â”‚
     â–¼          â–¼
  Show Page  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚ Has auth?  â”‚
             â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”˜
                â”‚      â”‚
              Noâ”‚      â”‚Yes
                â”‚      â”‚
                â–¼      â–¼
        Redirect  Show
        to /login Page
```

## Responsive Container Layout

```
Mobile (320px)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ px-4             â”‚  â—€â”€ 16px padding
â”‚ max-w-7xl        â”‚
â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Tablet (768px+)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ px-6                           â”‚  â—€â”€ 24px padding
â”‚ max-w-7xl                      â”‚
â”‚                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Desktop (1024px+)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ px-8                                â”‚  â—€â”€ 32px padding
â”‚ max-w-7xl (1280px max)              â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Dark Mode Toggle (System-Based)

```
OS Settings
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ prefers-color-schemeâ”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
     â”‚            â”‚
  light       dark
     â”‚            â”‚
     â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Light    â”‚  â”‚ Dark     â”‚
â”‚ Theme    â”‚  â”‚ Theme    â”‚
â”‚          â”‚  â”‚          â”‚
â”‚ Blue/    â”‚  â”‚ Darker   â”‚
â”‚ Cyan     â”‚  â”‚ Blue/    â”‚
â”‚ Colors   â”‚  â”‚ Cyan     â”‚
â”‚          â”‚  â”‚ Colors   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Protected Route Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ProtectedRoute Component    â”‚
â”‚ {children}                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Check:                      â”‚
â”‚ 1. useAuth() context        â”‚
â”‚ 2. localStorage['authToken']â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
       â”‚                  â”‚
    Both   Either one
     found missing
       â”‚                  â”‚
       â–¼                  â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Return â”‚    â”‚ Navigate to      â”‚
   â”‚childrenâ”‚    â”‚ /login (replace) â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Color System (Tailwind Classes)

```
Light Mode (default)
â”œâ”€â”€ Text
â”‚   â”œâ”€â”€ Primary: text-slate-900
â”‚   â”œâ”€â”€ Secondary: text-slate-700
â”‚   â””â”€â”€ Tertiary: text-slate-600
â”œâ”€â”€ Background
â”‚   â”œâ”€â”€ Primary: bg-white
â”‚   â”œâ”€â”€ Secondary: bg-slate-50
â”‚   â””â”€â”€ Gradient: from-blue-50 via-cyan-50 to-slate-100
â”œâ”€â”€ Accent
â”‚   â”œâ”€â”€ Primary: from-blue-600 to-cyan-600
â”‚   â””â”€â”€ Hover: from-blue-700 to-cyan-700
â””â”€â”€ Borders
    â”œâ”€â”€ Primary: border-gray-100
    â””â”€â”€ Secondary: border-gray-200

Dark Mode (media query)
â”œâ”€â”€ Text
â”‚   â”œâ”€â”€ Primary: dark:text-white
â”‚   â”œâ”€â”€ Secondary: dark:text-slate-300
â”‚   â””â”€â”€ Tertiary: dark:text-slate-400
â”œâ”€â”€ Background
â”‚   â”œâ”€â”€ Primary: dark:bg-slate-800
â”‚   â”œâ”€â”€ Secondary: dark:bg-slate-900
â”‚   â””â”€â”€ Gradient: dark:from-slate-950 dark:via-slate-900 dark:to-slate-950
â”œâ”€â”€ Accent
â”‚   â”œâ”€â”€ Primary: dark:from-blue-700 dark:to-cyan-700
â”‚   â””â”€â”€ Hover: dark:from-blue-800 dark:to-cyan-800
â””â”€â”€ Borders
    â”œâ”€â”€ Primary: dark:border-slate-700
    â””â”€â”€ Secondary: dark:border-slate-600
```

## File Organization

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.tsx â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â”‚   â”‚                            â”‚ Entry point
â”‚   â”œâ”€â”€ App.tsx â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚   â”‚   (Route definitions, AppShell)
â”‚   â”‚
â”‚   â”œâ”€â”€ index.css
â”‚   â”‚   (Global styles, dark mode)
â”‚   â”‚
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Navbar.tsx â­
â”‚   â”‚   â”œâ”€â”€ ProtectedRoute.tsx â­ (NEW)
â”‚   â”‚   â”œâ”€â”€ ToastContainer.tsx â­ (NEW)
â”‚   â”‚   â”œâ”€â”€ CameraCapture.tsx
â”‚   â”‚   â”œâ”€â”€ ResultCard.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ Home.tsx â­
â”‚   â”‚   â”œâ”€â”€ Login.tsx â­
â”‚   â”‚   â”œâ”€â”€ Signup.tsx â­
â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx
â”‚   â”‚   â”œâ”€â”€ Analyze.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â””â”€â”€ context/
â”‚       â””â”€â”€ AuthContext.tsx
â”‚
â””â”€â”€ public/
    â””â”€â”€ index.html
```

## TypeScript Type System

```
ProtectedRoute
â”œâ”€â”€ Props
â”‚   â””â”€â”€ children: React.ReactNode
â”œâ”€â”€ Context Check
â”‚   â””â”€â”€ useAuth(): { isAuthenticated: boolean }
â”œâ”€â”€ Storage Check
â”‚   â””â”€â”€ localStorage.getItem('authToken'): string | null
â””â”€â”€ Return
    â”œâ”€â”€ If authenticated: <>{children}</>
    â””â”€â”€ If not: <Navigate to="/login" replace />
```

---

**Legend:**

- â­ = New/Updated in refactor
- â—€â”€ = Important note
- â†’ = Data flow
- â–¼ = Process flow
- âœ“ = Success/Active state
